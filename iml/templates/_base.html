<!DOCTYPE HTML>


<html>
    <head>
        <meta charset = "UTF-8">
        <meta name = "author" content = "Alex Lu, Gilvir Gill, Haiyao Liu, Datian Zhang, Andrew Chen">
        <meta name = "viewport" content = "width=device-width, initial-scale=0.8">
        <meta name = "mobile-web-app-capable" content="yes">
        <title>IML Scoring</title>


        <!-- css -->
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename= 'vendor/mdc.css')}}">
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename= 'vendor/normalize.css')}}">
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename= 'vendor/mdc-table.css')}}">
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename= 'css/mdc-theme.css')}}">
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename= 'css/forms.css')}}">
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename= 'css/everything.css')}}">

        <link href="https://fonts.googleapis.com/css?family=Merriweather|Noto+Serif+SC" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        
        {% block css_imports %}
        {% endblock css_imports %}
        <!-- end css -->
    </head>


    <body>
        <aside class="mdc-drawer mdc-drawer--modal">
            <div class="mdc-drawer__header" style="margin-bottom: 25px;">
                {% if user %}
                <h3 class="mdc-drawer__title">{{user.first}} {{user.last}}</h3>
                <h6 class="mdc-drawer__subtitle">{{user.email}}</h6>
                {% else %}
                <h3 class="mdc-drawer__title">Guest</h3>
                {% endif %}
            </div>

            <div class="mdc-drawer__content">
                <nav class="mdc-list">
                    <hr class="mdc-list-divider">
                    <a class="mdc-list-item mdc-list-item--activated" href="/" aria-selected="true">
                        <i class="material-icons mdc-list-item__graphic" aria-hidden="true">home</i>
                        Home
                    </a> 
                    {% if user %}
                    <a class="mdc-list-item" href="/logout">
                        <i class="material-icons mdc-list-item__graphic" aria-hidden="true">exit_to_app</i>
                        Sign Out
                    </a> 
                    {% else %}
                    <a class="mdc-list-item" href="/login">
                        <i class="material-icons mdc-list-item__graphic" aria-hidden="true">exit_to_app</i>
                        Login
                    </a>
                    {% endif %}

                    {% if user and user.is_admin %}
                    <hr class="mdc-list-divider">
                    <h6 class="mdc-list-group__subheader">Admin</h6>
                    <a class="mdc-list-item" href="/admin/divisions">
                        <i class="material-icons mdc-list-item__graphic" aria-hidden="true">book</i>
                        Divisions
                    </a>
                    <a class="mdc-list-item" href="/admin/add_contest">
                        <i class="material-icons mdc-list-item__graphic" aria-hidden="true">add</i>
                        Add Contest
                    </a>
                    
                    {% endif %}
                    {% if user and user.school %}
                    <hr class="mdc-list-divider">
                    <h6 class="mdc-list-group__subheader">{{user.school.name}}</h6>
                    <a class="mdc-list-item" href="/">
                        <i class="material-icons mdc-list-item__graphic" aria-hidden="true">book</i>
                        Enter Scores
                    </a>
                    <a class="mdc-list-item" href="/">
                        <i class="material-icons mdc-list-item__graphic" aria-hidden="true">book</i>
                        Manage Teams
                    </a>
                    {% endif %}

                    <hr class="mdc-list-divider">
                    <a class="mdc-list-item" href="/info">
                        <i class="material-icons mdc-list-item__graphic" aria-hidden="true">info</i>
                        View Scores
                    </a>         					

                </nav>
            </div>
        </aside> 
        <div class="mdc-drawer-scrim"></div>

        {% block navbar %}
        <header class="mdc-top-app-bar secondary-nav" id="app-bar">
            <div class="mdc-top-app-bar__row secondary-nav">
				<!-- topbar items -->
                <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
                    <a href="#" class="material-icons mdc-top-app-bar__navigation-icon" style="color:rgba(0,0,0,.87)!important">menu</a>
                    <span class="mdc-top-app-bar__title">IML Scores</span>
                </section>
                <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
                    <a href="/" class="material-icons mdc-top-app-bar__action-item " aria-label="Download" alt="Download" style="color:rgba(0,0,0,.87)!important">home</a>
                </section>
            </div>
        </header>
        {% endblock navbar %}
    <main>
        <div style="padding-top:100px"></div>
        {% block below_nav %}
        {% endblock below_nav %}
        <div>
            {% block content %}
            {% endblock content%}
        </div>
        <div class="snackbars">
        <!-- Very naive Flashes -->
        {% with flashes = get_flashed_messages(with_categories=True) %}
            {% if flashes %}
            <div class="mdc-snackbar mdc-snackbar--stacked">
                <div class="mdc-snackbar__surface">
                    <div class="mdc-snackbar__label"
                         role="status"
                         aria-live="polite">
                        {% for category, message in flashes %}
                        <div>{{message}}</div>
                        <br>
                        {% endfor %}
                    </div>
                    <div class="mdc-snackbar__actions">
                    </div>
                </div>
            </div>
            {% endif %}
        {% endwith %}
        </div>
    </main>

    <!-- javascript -->
    <script type="text/javascript" src="{{ url_for('static', filename='vendor/jquery.js') }}"></script>
    <script type="text/javascript" src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/mdc-nav.js') }}"></script>
    </body>
</html>
